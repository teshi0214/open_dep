# ğŸš€ æ–°ã—ã„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è¿½åŠ æ–¹æ³•

## ğŸ“‹ å‰ææ¡ä»¶

- Vertex AIã§æ–°ã—ã„Reasoning EngineãŒãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿
- Reasoning Engine IDãŒåˆ†ã‹ã£ã¦ã„ã‚‹

---

## âš¡ è¶…ç°¡å˜ï¼3ã‚¹ãƒ†ãƒƒãƒ—ã§è¿½åŠ 

### ã‚¹ãƒ†ãƒƒãƒ—1: Reasoning Engine IDã‚’ç¢ºèª

```bash
# Vertex AIã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèª
# ã¾ãŸã¯ gcloud ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—
gcloud ai reasoning-engines list --location=us-central1
```

**ä¾‹:**
```
ID: 9876543210987654321
Name: my-analyst-agent
```

---

### ã‚¹ãƒ†ãƒƒãƒ—2: Open WebUIã§è¨­å®šã‚’ç·¨é›†

1. **Open WebUIã«ã‚¢ã‚¯ã‚»ã‚¹**
   - Settings â†’ Admin Panel â†’ Functions

2. **`Vertex AI Multi-Agent Manager` ã‚’é¸æŠ**

3. **`AGENTS_CONFIG` ã‚’ç·¨é›†**

#### ğŸ“ ç·¨é›†å‰:

```json
[
    {
        "id": "root-agent",
        "name": "Root Agent (Research Assistant)",
        "engine_id": "1795410129181474816",
        "description": "å­¦è¡“èª¿æŸ»ã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ã€æƒ…å ±åé›†ã®ãŸã‚ã®ãƒªã‚µãƒ¼ãƒã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ"
    }
]
```

#### âœ… ç·¨é›†å¾Œ (ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¿½åŠ ):

```json
[
    {
        "id": "root-agent",
        "name": "Root Agent (Research Assistant)",
        "engine_id": "1795410129181474816",
        "description": "å­¦è¡“èª¿æŸ»ã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ã€æƒ…å ±åé›†ã®ãŸã‚ã®ãƒªã‚µãƒ¼ãƒã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ"
    },
    {
        "id": "analyst-agent",
        "name": "Analyst Agent (Data Analysis)",
        "engine_id": "9876543210987654321",
        "description": "ãƒ‡ãƒ¼ã‚¿åˆ†æã¨ãƒ“ã‚¸ãƒã‚¹ã‚¤ãƒ³ã‚µã‚¤ãƒˆæŠ½å‡ºã®å°‚é–€å®¶"
    }
]
```

4. **Save ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**

---

### ã‚¹ãƒ†ãƒƒãƒ—3: ç¢ºèª

1. **ãƒãƒ£ãƒƒãƒˆç”»é¢ã«æˆ»ã‚‹**
2. **ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’é–‹ã**
3. **æ–°ã—ã„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼**

```
âœ… AGENT/Root Agent (Research Assistant)
âœ… AGENT/Analyst Agent (Data Analysis)  â† NEW!
```

---

## ğŸ¯ å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®èª¬æ˜

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | èª¬æ˜ | ä¾‹ |
|-----------|------|-----|
| `id` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ä¸€æ„ãªID<br>(è‹±æ•°å­—ã¨ãƒã‚¤ãƒ•ãƒ³ã®ã¿) | `analyst-agent` |
| `name` | Open WebUIã§è¡¨ç¤ºã•ã‚Œã‚‹åå‰ | `Analyst Agent` |
| `engine_id` | Vertex AI Reasoning Engine ID | `9876543210987654321` |
| `description` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®èª¬æ˜ (ä»»æ„) | `ãƒ‡ãƒ¼ã‚¿åˆ†æå°‚é–€å®¶` |

---

## ğŸ’¡ å®Ÿä¾‹: 3ã¤ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ç®¡ç†

```json
[
    {
        "id": "research-agent",
        "name": "Research Agent",
        "engine_id": "1795410129181474816",
        "description": "å­¦è¡“è«–æ–‡ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹æ¤œç´¢"
    },
    {
        "id": "data-analyst",
        "name": "Data Analyst",
        "engine_id": "2222222222222222222",
        "description": "ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»çµ±è¨ˆå‡¦ç†"
    },
    {
        "id": "code-reviewer",
        "name": "Code Reviewer",
        "engine_id": "3333333333333333333",
        "description": "ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯"
    }
]
```

**çµæœ:**
- âœ… AGENT/Research Agent
- âœ… AGENT/Data Analyst
- âœ… AGENT/Code Reviewer

ã™ã¹ã¦ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒãƒ¢ãƒ‡ãƒ«é¸æŠã§åˆ©ç”¨å¯èƒ½ã«ï¼

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: "ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"

**åŸå› :** JSONå½¢å¼ãŒé–“é•ã£ã¦ã„ã‚‹

**è§£æ±ºç­–:**
1. JSON Validatorã§ãƒã‚§ãƒƒã‚¯: https://jsonlint.com/
2. ã‚«ãƒ³ãƒã€æ‹¬å¼§ã€å¼•ç”¨ç¬¦ã‚’ç¢ºèª
3. æœ€å¾Œã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å¾Œã«ã‚«ãƒ³ãƒã‚’ä»˜ã‘ãªã„

#### âŒ é–“é•ã£ãŸä¾‹:

```json
[
    {
        "id": "agent1",
        ...
    },  â† ã“ã®æœ€å¾Œã®ã‚«ãƒ³ãƒã¯ä¸è¦
]
```

#### âœ… æ­£ã—ã„ä¾‹:

```json
[
    {
        "id": "agent1",
        ...
    }
]
```

---

### ã‚¨ãƒ©ãƒ¼: "Authentication failed"

**åŸå› :** Reasoning Engine IDãŒé–“é•ã£ã¦ã„ã‚‹

**è§£æ±ºç­–:**
1. Vertex AIã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§æ­£ã—ã„IDã‚’ç¢ºèª
2. `gcloud` ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèª:
   ```bash
   gcloud ai reasoning-engines list --location=us-central1
   ```

---

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› :** ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥

**è§£æ±ºç­–:**
1. ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ (F5 ã¾ãŸã¯ Cmd+R)
2. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
3. Open WebUIã‚’å†èµ·å‹•:
   ```bash
   docker compose restart open-webui
   ```

---

## ğŸ“ å¿œç”¨ç·¨: å‹•çš„è¨­å®š

### .envãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†

ã‚ˆã‚Šé«˜åº¦ãªé‹ç”¨ã§ã¯ã€`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã§ãã¾ã™:

```bash
# .env
AGENT_1_ID=research-agent
AGENT_1_NAME=Research Agent
AGENT_1_ENGINE=1795410129181474816

AGENT_2_ID=analyst-agent
AGENT_2_NAME=Data Analyst
AGENT_2_ENGINE=2222222222222222222
```

---

## ğŸ“Š é‹ç”¨ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®å‘½åè¦å‰‡

```
{å½¹å‰²}-agent
ä¾‹: research-agent, analyst-agent, writer-agent
```

### 2. èª¬æ˜ã‚’è©³ã—ãæ›¸ã

```json
{
    "description": "å­¦è¡“è«–æ–‡æ¤œç´¢ã€arXivçµ±åˆã€Tavilyæ¤œç´¢ã‚’ä½¿ç”¨ã—ãŸãƒªã‚µãƒ¼ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ"
}
```

### 3. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã‚‹

```bash
# è¨­å®šã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
# Open WebUIã®Functionsãƒšãƒ¼ã‚¸ã§ã€ŒExportã€ã‚’ã‚¯ãƒªãƒƒã‚¯
```

---

## ğŸš€ ã¾ã¨ã‚

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¿½åŠ  = ãŸã£ãŸ1ã¤ã®è¨­å®šã‚’ç·¨é›†ã™ã‚‹ã ã‘ï¼**

1. Open WebUI â†’ Functions â†’ `Vertex AI Multi-Agent Manager`
2. `AGENTS_CONFIG` ã«ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæƒ…å ±ã‚’è¿½åŠ 
3. Save

**ã“ã‚Œã ã‘ã§æ–°ã—ã„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒä½¿ãˆã¾ã™ï¼**

---

## ğŸ’¡ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

- [ ] æœ€åˆã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¦ã¿ã‚‹
- [ ] è¤‡æ•°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§å½¹å‰²åˆ†æ‹…ã‚’è©¦ã™
- [ ] A2A (Agent to Agent) é€£æºã‚’å®Ÿé¨“
- [ ] ã‚«ã‚¹ã‚¿ãƒ MCPãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ 

ä½•ã‹å›°ã£ãŸã“ã¨ãŒã‚ã‚Œã°ã€ãŠæ°—è»½ã«ã©ã†ãï¼ğŸ™Œ
